# 参数
- 注意，-shared参数和-fPIC参数非常重要：
- -shared 告诉gcc要生成的是动态链接库；
- -fPIC 告诉gcc生成的代码是非位置依赖的，方便的用于动态链接。

# extern c
dlopen 是c的函数，所以需要

4. 坑
如果动态链接库和可执行程序依赖同一个库，比如依赖同一个日志库，在编译动态链接库和可执行程序时需要注意一下。要确保对于库的符号引用的解析会指向同一个符号。具体做法：

（1）编译.so时，不链接依赖的库，对于库的符号的引用都是undefined。
（2）可执行程序需要链接依赖的库，并且要指定链接选项-rdynamic，将全局符号可以用于动态链接库的符号引用的解析。
--------------------- 
